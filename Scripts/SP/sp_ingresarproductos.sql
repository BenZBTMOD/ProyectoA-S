/*
* Autor: Felipe Ortega & Benjamín Galarce
* Fecha: 06-10-2022
* Version: 2.0
* Nombre: sp_ingresarproductos
*
* Parámetros:
*	_NOMBREPROVEEDOR: nombre del proveedor
*	_RUTPROVEEDOR: rut del proveedor
*	_TELEFONOPROVEEDOR: teléfono del proveedor
*   _CONTACTOPROVEEDOR: contacto de proveedor
*   _DIRECCIONPROVEEDOR: dirección del proveedor
*	_CODIGOPRODUCTO: código verificador del producto
*	_DESCRIPCIONPRODUCTO: descripción (nombre) del producto
*	_CANTIDADPRODUCTO: cantidad(stock) del producto
*	_VALORPRODUCTO: precio del producto
*	_IDPROVEEDOR: identificador de proveedor
*	_ESTADOPRODUCTOID: identificador de estado de producto
*	_ESTADOPRODUCTODESCRIPCION: descripción de estado de producto
*	_CODIGOINVENTARIO: código verificador de cada inventario
*	_INVENTARIOFECHA: fecha de inventario
*	_INVENTARIOSTOCK: cantidad de productos en cada inventario
*/

-- --------------------------------------------------------
-- PROCEDIMIENTO ALMACENADO INGRESAR DATOS TABLA PROVEEDOR
-- --------------------------------------------------------

DELIMITER $$
CREATE PROCEDURE SP_DATOSPROVEEDOR(
    IN _NOMBREPROVEEDOR VARCHAR(50),
    IN _RUTPROVEEDOR VARCHAR(12),
    IN _TELEFONOPROVEEDOR VARCHAR(12),
    IN _CONTACTOPROVEEDOR VARCHAR(50),
    IN _DIRECCIONPROVEEDOR VARCHAR(50)
)
BEGIN
    INSERT INTO PROVEEDOR (NOMBREPROVEEDOR, RUTPROVEEDOR, TELEFONOPROVEEDOR, CONTACTOPROVEEDOR, DIRECCIONPROVEEDOR)
    VALUES(_NOMBREPROVEEDOR, _RUTPROVEEDOR, _TELEFONOPROVEEDOR, _CONTACTOPROVEEDOR, _DIRECCIONPROVEEDOR);
END;
    $$
    
CALL SP_DATOSPROVEEDOR ("NESTLE","15.024.156-2","+56945319876","MARTIN PRADO","AVENIDA 1");
CALL SP_DATOSPROVEEDOR ("CAROZZI","11.561.214.8","+56915712341","MARCELO GATICA","AVENIDA 2");
CALL SP_DATOSPROVEEDOR ("COLUN","15.795.267-5","+56967948231","FRANCISCO MARTINEZ","AVENIDA 3");
CALL SP_DATOSPROVEEDOR ("FRUNA","11.452.657-0","+56956814753","MARTIN RODRIGUEZ","AVENIDA 4");
CALL SP_DATOSPROVEEDOR ("EVERCRISP","17.073.679-9","+56934895760","JOSEFA ESPINOZA","AVENIDA 5");

-- --------------------------------------------------------
-- PROCEDIMIENTO ALMACENADO INGRESAR DATOS TABLA PRODUCTOS
-- --------------------------------------------------------
    
DELIMITER $$
CREATE PROCEDURE SP_DATOSPRODUCTO(
    IN _CODIGOPRODUCTO VARCHAR(30),
    IN _DESCRIPCIONPRODUCTO VARCHAR(100),
    IN _CANTIDADPRODUCTO INT,
    IN _VALORPRODUCTO INT,
    IN _IDPROVEEDOR INT
)
BEGIN
    INSERT INTO PRODUCTOS (CODIGOPRODUCTO, DESCRIPCIONPRODUCTO, CANTIDADPRODUCTO, VALORPRODUCTO, IDPROVEEDOR)
    VALUES(_CODIGOPRODUCTO, _DESCRIPCIONPRODUCTO, _CANTIDADPRODUCTO, _VALORPRODUCTO, _IDPROVEEDOR);
END;
    $$    
    
CALL SP_DATOSPRODUCTO ("100000000000001", "MILO","20","2750","1");
CALL SP_DATOSPRODUCTO ("100000000000002", "NESCAFÉ CLÁSICO","10","2800","1");
CALL SP_DATOSPRODUCTO ("100000000000003", "NESCAFÉ DESCAFEINADO","10","3960","1");
CALL SP_DATOSPRODUCTO ("200000000000001", "TALLARINES CAROZZI","20","1070","2");
CALL SP_DATOSPRODUCTO ("200000000000002", "CRACKELET COSTA","10","500","2");
CALL SP_DATOSPRODUCTO ("200000000000003", "FLAN AMBROSOLI VAINILLA","15","1150","2");
CALL SP_DATOSPRODUCTO ("300000000000001", "MANTEQUILLA","20","2550","3");
CALL SP_DATOSPRODUCTO ("300000000000002", "YOGHURT BATIDO","15","1630","3");
CALL SP_DATOSPRODUCTO ("300000000000003", "QUESO","20","2930","3");
CALL SP_DATOSPRODUCTO ("400000000000001", "PANCHITO","40","500","4");
CALL SP_DATOSPRODUCTO ("400000000000002", "BEBIDAS 2L","20","3500","4");
CALL SP_DATOSPRODUCTO ("400000000000003", "CASSATA HELADO","40","2500","4");
CALL SP_DATOSPRODUCTO ("500000000000001", "CABRITAS","20","1900","5");
CALL SP_DATOSPRODUCTO ("500000000000002", "CHIS POP","20","1700","5");
CALL SP_DATOSPRODUCTO ("500000000000003", "PAPAS LAYS CORTE AMERICANO","20","2500","5");

-- ------------------------------------------------------------
-- PROCEDIMIENTO ALMACENADO INGRESAR DATOS TABLA ESTADOPRODUCTO
-- ------------------------------------------------------------

 DELIMITER $$
CREATE PROCEDURE SP_DATOSESTADOPRODUCTO(
	IN _ESTADOPRODUCTOID INT,
	IN _ESTADOPRODUCTODESCRIPCION VARCHAR(30)
)
BEGIN
    INSERT INTO ESTADOPRODUCTO(ESTADOPRODUCTOID, ESTADOPRODUCTODESCRIPCION)
    VALUES(_ESTADOPRODUCTOID, _ESTADOPRODUCTODESCRIPCION);
END;
    $$
    
CALL SP_DATOSESTADOPRODUCTO ('1', 'Activo');
CALL SP_DATOSESTADOPRODUCTO ('2', 'Medio');
CALL SP_DATOSESTADOPRODUCTO ('3', 'Bajo');

-- --------------------------------------------------------
-- PROCEDIMIENTO ALMACENADO INGRESAR DATOS TABLA INVENTARIO
-- --------------------------------------------------------

 DELIMITER $$
CREATE PROCEDURE SP_DATOSINVENTARIO(
	IN _CODIGOINVENTARIO VARCHAR(30),
	IN _INVENTARIOFECHA DATE,
	IN _INVENTARIOSTOCK INT,
    IN _CODIGOPRODUCTO VARCHAR(30),
    IN _ESTADOPRODUCTOID INT
)
BEGIN
    INSERT INTO INVENTARIO(CODIGOINVENTARIO, INVENTARIOFECHA, INVENTARIOSTOCK, CODIGOPRODUCTO, ESTADOPRODUCTOID)
    VALUES(_CODIGOINVENTARIO, _INVENTARIOFECHA, _INVENTARIOSTOCK, _CODIGOPRODUCTO, _ESTADOPRODUCTOID);
END;
    $$
    
CALL SP_DATOSINVENTARIO ("340007780012300","2022-09-05","20", "100000000000001", "1");
CALL SP_DATOSINVENTARIO ("340007780012301","2022-09-06","10", "200000000000002", "1");
CALL SP_DATOSINVENTARIO ("340007780012302","2022-09-07","20", "300000000000003", "1");
CALL SP_DATOSINVENTARIO ("340007780012303","2022-09-08","20", "400000000000002", "1");
CALL SP_DATOSINVENTARIO ("340007780012304","2022-09-09","20", "500000000000001", "1");